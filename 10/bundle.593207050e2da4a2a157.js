(()=>{"use strict";var e={10:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(537),i=n.n(r),o=n(645),s=n.n(o)()(i());s.push([e.id,".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n","",{version:3,sources:["webpack://./src/framework/view/abstract-view.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,WAAW;AACb;;AAEA;EACE;;IAEE,wBAAwB;EAC1B;;EAEA;;;;;IAKE,2BAA2B;EAC7B;;EAEA;;;;IAIE,0BAA0B;EAC5B;AACF",sourcesContent:[".shake {\n  animation: shake 0.6s;\n  position: relative;\n  z-index: 10;\n}\n\n@keyframes shake {\n  0%,\n  100% {\n    transform: translateX(0);\n  }\n\n  10%,\n  30%,\n  50%,\n  70%,\n  90% {\n    transform: translateX(-5px);\n  }\n\n  20%,\n  40%,\n  60%,\n  80% {\n    transform: translateX(5px);\n  }\n}\n"],sourceRoot:""}]);const a=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var p=0;p<e.length;p++){var c=[].concat(e[p]);r&&s[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},537:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var l=e[a],p=r.base?l[0]+r.base:l[0],c=o[p]||0,d="".concat(p," ").concat(c);o[p]=c+1;var u=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(f);else{var m=i(f,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:m,references:1})}s.push(d)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var l=r(e,i),p=0;p<o.length;p++){var c=n(o[p]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{function e(e,t,n="beforeend"){if(!(e instanceof C))throw new Error("Can render only components");if(null===t)throw new Error("Container element doesn't exist");t.insertAdjacentElement(n,e.element)}function t(e,t){if(!(e instanceof C&&t instanceof C))throw new Error("Can replace only components");const n=e.element,r=t.element,i=r.parentElement;if(null===i)throw new Error("Parent element doesn't exist");i.replaceChild(n,r)}var r=n(379),i=n.n(r),o=n(795),s=n.n(o),a=n(569),l=n.n(a),p=n(565),c=n.n(p),d=n(216),u=n.n(d),f=n(589),m=n.n(f),h=n(10),v={};v.styleTagTransform=m(),v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=u(),i()(h.Z,v),h.Z&&h.Z.locals&&h.Z.locals;const _="shake";class C{#e=null;constructor(){if(new.target===C)throw new Error("Can't instantiate AbstractView, only concrete one.")}get element(){return this.#e||(this.#e=function(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(this.template)),this.#e}get template(){throw new Error("Abstract method not implemented: get template")}removeElement(){this.#e=null}shake(e){this.element.classList.add(_),setTimeout((()=>{this.element.classList.remove(_),e?.()}),600)}}const y={1:"JAN",2:"FEB",3:"MAR",4:"APR",5:"MAY",6:"JUN",7:"JUL",8:"AUG",9:"SEP",10:"OCT",11:"NOV",12:"DEC"},g=["Everything","Future","Present","Past"],b=(e,t)=>{const n=Math.ceil(Math.min(Math.abs(e),Math.abs(t))),r=Math.floor(Math.max(Math.abs(e),Math.abs(t))),i=Math.random()*(r-n+1)+n;return Math.floor(i)},w=e=>e[Math.floor(Math.random()*e.length)];class $ extends C{get template(){return'\n    <ul class="trip-events__list">\n    </ul>\n  '}}const A=[{id:"1",name:"Taxi"},{id:"2",name:"Bus"},{id:"3",name:"Train"},{id:"4",name:"Ship"},{id:"5",name:"Drive"},{id:"6",name:"Flight"},{id:"7",name:"Check-in"},{id:"8",name:"Sightseeing"},{id:"9",name:"Restaurant"}],E=[{id:"1",description:"Chamonix, is a beautiful city, a true asian pearl, with crowded streets.",name:"Chamonix",pictures:[{src:"http://picsum.photos/300/200?r=0.0762563005163317",description:"Chamonix parliament building"}]},{id:"2",description:"",name:"Amsterdam",pictures:[{src:"http://picsum.photos/300/200?r=0.0762563005163317",description:"Chamonix parliament building"}]},{id:"3",description:"",name:"Geneva",pictures:[{src:"http://picsum.photos/300/200?r=0.0762563005163317",description:"Chamonix parliament building"}]},{id:"4",description:"",name:"Paris",pictures:[]}],S=e=>E[E.findIndex((t=>t.id===e))],x=[{type:"taxi",offers:[{id:"1",title:"Upgrade to a business class",price:120},{id:"2",title:"Order Uber",price:20}]},{type:"sightseeing",offers:[{id:"3",title:"Book tickets",price:40},{id:"4",title:"Lunch in city",price:30}]},{type:"flight",offers:[{id:"5",title:"Add luggage",price:50},{id:"6",title:"Switch to comfort",price:80},{id:"7",title:"Add meal",price:15},{id:"8",title:"Choose seats",price:5},{id:"9",title:"Travel by train",price:40}]}],T=e=>{for(let t=0;t<x.length;t++)for(let n=0;n<x[t].offers.length;n++)if(x[t].offers[n].id===e)return x[t].offers[n];return null},L=e=>{const t=Math.floor(e/60);return e%=60,`${String(t).padStart(2,"0")}:${String(e).padStart(2,"0")}:00.0Z`},M=()=>{const e=w(A).id,t=(n=e,A[A.findIndex((e=>e.id===n))]);var n;const r=(e=>{for(let t=0;t<x.length;t++)if(x[t].type.toLowerCase()===e.name.toLowerCase()){const e=Object.keys(x[t].offers).length,n=b(0,e),r=Array.from({length:n},(()=>w(x[t].offers).id)),i=new Set(r);return Array.from(i,(e=>e))}return null})(t),i=b(1,15),o=b(0,1440),s=L(o),a=i+b(0,7),l=b(o,1440),p=L(l);return{id:b(1,1e5),base_price:b(1,1e3),date_from:`2024-08-${String(i).padStart(2,"0")}T${s}`,date_to:`2024-08-${String(a).padStart(2,"0")}T${p}`,destination:w(E).id,is_favorite:!1,offers:r,type:t.name.toLowerCase()}};class k{#t=Array.from({length:8},M);get route(){return this.#t}}class R extends C{get template(){return'\n    <p class="trip-events__msg">Click New Event to create your first point</p>\n  '}}class P extends C{constructor(e){super(),this.routePoint=e}get template(){return function(e){const{type:t,destination:n,date_from:r,date_to:i,base_price:o,is_favorite:s,offers:a}=e,l=r.split("T")[0],p=(e=>{const t=+e.split("-")[1],n=e.split("-")[2];return`${y[t]} ${n}`})(l),c=r.split("T")[1].slice(0,5),d=i.split("T")[1].slice(0,5),u=new Date(r),f=new Date(i),m=(e=>{e=e/1e3/60;const t=Math.floor(e/1440),n=Math.floor((e-1440*t)/60),r=e%60;let i="";return t&&(i+=`${String(t).padStart(2,"0")}D `),i+=`${String(n).padStart(2,"0")}H `,i+=`${String(r).padStart(2,"0")}M`,i})(new Date(f-u)),h=(v=t,A[A.findIndex((e=>e.name.toLowerCase()===v.toLowerCase()))]);var v;const _=S(n);let C="";if(a&&a.length)for(let e=0;e<a.length;e++){const t=T(a[e]);C+=`\n        <li class="event__offer">\n        <span class="event__offer-title">${t.title}</span>\n        &plus;&euro;&nbsp;\n        <span class="event__offer-price">${t.price}</span>\n      </li>\n    `}return`\n    <li class="trip-events__item">\n      <div class="event">\n        <time class="event__date" datetime="${l}">${p}</time>\n        <div class="event__type">\n          <img class="event__type-icon" width="42" height="42" src="img/icons/${h.name.toLowerCase()}.png" alt="Event type icon">\n        </div>\n        <h3 class="event__title">${h.name} ${_.name}</h3>\n        <div class="event__schedule">\n          <p class="event__time">\n            <time class="event__start-time" datetime="${r}">${c}</time>\n            &mdash;\n            <time class="event__end-time" datetime="${i}">${d}</time>\n          </p>\n          <p class="event__duration">${m}</p>\n        </div>\n        <p class="event__price">\n          &euro;&nbsp;<span class="event__price-value">${o}</span>\n        </p>\n        <h4 class="visually-hidden">Offers:</h4>\n        <ul class="event__selected-offers">\n          ${C}\n        </ul>\n        <button class="event__favorite-btn ${s?"event__favorite-btn--active":""}" type="button">\n          <span class="visually-hidden">Add to favorite</span>\n          <svg class="event__favorite-icon" width="28" height="28" viewBox="0 0 28 28">\n            <path d="M14 21l-8.22899 4.3262 1.57159-9.1631L.685209 9.67376 9.8855 8.33688 14 0l4.1145 8.33688 9.2003 1.33688-6.6574 6.48934 1.5716 9.1631L14 21z"/>\n          </svg>\n        </button>\n        <button class="event__rollup-btn" type="button">\n          <span class="visually-hidden">Open event</span>\n        </button>\n      </div>\n    </li>\n  `}(this.routePoint)}replaceRowToForm(e,n){t(e,n)}}const D=e=>`${String(e.getUTCDate()).padStart(2,"0")}/${String(e.getUTCMonth()+1).padStart(2,"0")}/${String(e.getUTCFullYear()).slice(2,4)} ${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}`;class I extends C{#n=null;constructor(e){super(),this.#n=e}get template(){return function(e){const t=e.type,n=S(e.destination).name,r=D(new Date(e.date_from)),i=D(new Date(e.date_to));return`\n    <li class="trip-events__item">\n      <form class="event event--edit" action="#" method="post">\n        <header class="event__header">\n          <div class="event__type-wrapper">\n            <label class="event__type  event__type-btn" for="event-type-toggle-${e.id}">\n              <span class="visually-hidden">Choose event type</span>\n              <img class="event__type-icon" width="17" height="17" src="img/icons/${t.toLowerCase()}.png" alt="Event type icon">\n            </label>\n            <input class="event__type-toggle  visually-hidden" id="event-type-toggle-${e.id}" type="checkbox">\n\n            <div class="event__type-list">\n              <fieldset class="event__type-group">\n                <legend class="visually-hidden">Event type</legend>\n                ${function(e){let t="";for(let n=0;n<A.length;n++){const r=A[n].name.toLowerCase()===e.toLowerCase()?"checked":"";t+=`\n      <div class="event__type-item">\n        <input id="event-type-${A[n].name.toLowerCase()}-1" class="event__type-input  visually-hidden"\n        type="radio" name="event-type" value="${A[n].name.toLowerCase()}" ${r}>\n        <label class="event__type-label  event__type-label--${A[n].name.toLowerCase()}"\n        for="event-type-${A[n].name.toLowerCase()}-1">${A[n].name}</label>\n      </div>`}return t}(t)}\n              </fieldset>\n            </div>\n          </div>\n\n          <div class="event__field-group  event__field-group--destination">\n            <label class="event__label  event__type-output" for="event-destination-${e.id}">\n              ${t}\n            </label>\n            <input class="event__input  event__input--destination" id="event-destination-${e.id}" type="text" name="event-destination"\n            value="${n}" list="destination-list-${e.id}">\n            <datalist id="destination-list-${e.id}">\n              ${function(){let e="";for(let t=0;t<E.length;t++)e+=`<option value="${E[t].name}"></option>`;return e}()}\n            </datalist>\n          </div>\n\n          <div class="event__field-group  event__field-group--time">\n            <label class="visually-hidden" for="event-start-time-${e.id}">From</label>\n            <input class="event__input  event__input--time" id="event-start-time-${e.id}" type="text" name="event-start-time" value="${r}">\n            &mdash;\n            <label class="visually-hidden" for="event-end-time-${e.id}">To</label>\n            <input class="event__input  event__input--time" id="event-end-time-${e.id}" type="text" name="event-end-time" value="${i}">\n          </div>\n\n          <div class="event__field-group  event__field-group--price">\n            <label class="event__label" for="event-price-${e.id}">\n              <span class="visually-hidden">Price</span>\n              &euro;\n            </label>\n            <input class="event__input  event__input--price" id="event-price-${e.id}" type="text" name="event-price" value="${e.base_price}">\n          </div>\n\n          <button class="event__save-btn  btn  btn--blue" type="submit">Save</button>\n          <button class="event__reset-btn" type="reset">Delete</button>\n          <button class="event__rollup-btn" type="button">\n            <span class="visually-hidden">Open event</span>\n          </button>\n        </header>\n        <section class="event__details">\n          ${function(e,t){let n="";for(let r=0;r<x.length;r++)if(x[r].type.toLowerCase()===e.toLowerCase()&&x[r].offers.length>0){n+='\n          <section class="event__section  event__section--offers">\n          <h3 class="event__section-title  event__section-title--offers">Offers</h3>\n\n          <div class="event__available-offers">\n        ';for(let e=0;e<x[r].offers.length;e++)n+=`\n            <div class="event__offer-selector">\n              <input class="event__offer-checkbox  visually-hidden" id="event-offer-${x[r].offers[e].id}"\n              type="checkbox" name="event-offer-${x[r].offers[e].id}" ${t.includes(x[r].offers[e].id)?"checked":""}>\n              <label class="event__offer-label" for="event-offer-${x[r].offers[e].id}">\n                <span class="event__offer-title">${x[r].offers[e].title}</span>\n                &plus;&euro;&nbsp;\n                <span class="event__offer-price">${x[r].offers[e].price}</span>\n              </label>\n            </div>\n          `;n+="\n            </div>\n          </section>\n        "}return n}(t,e.offers)}\n          <section class="event__section  event__section--destination">\n            <h3 class="event__section-title  event__section-title--destination">Destination</h3>\n            <p class="event__destination-description">${(o=n,E[E.findIndex((e=>e.name.toLowerCase()===o.toLowerCase()))]).description}</p>\n          </section>\n        </section>\n      </form>\n    </li>\n  `;var o}(this.#n)}replaceFormToRow(e,n){t(e,n)}}const U="VIEW",B="EDIT";class H{#r=null;#i=null;#o=null;#s=null;#a=null;updatePointCb=null;resetMethodCb=null;constructor(e,t,n,r){this.#r=e,this.#s=t,this.updatePointCb=n,this.resetMethodCb=r,this.#a=U,this.#i=new P(this.#s),this.#o=new I(this.#s)}#l(){this.#i.element.querySelector(".event__rollup-btn").addEventListener("click",this.#p),this.#i.element.querySelector(".event__favorite-btn").addEventListener("click",this.#c),this.#o.element.querySelector(".event__rollup-btn").addEventListener("click",this.#d),this.#o.element.querySelector(".event--edit").addEventListener("submit",this.#u),this.#o.element.querySelector(".event__type-group").addEventListener("change",this.#f)}init(){e(this.#i,this.#r.element),this.#l()}#c=()=>{const e=this.#i;this.updatePointCb(this.#s),this.#i=new P(this.#s),t(this.#i,e),this.#l()};#f=()=>{};#u(e){e.preventDefault(),this.#o.replaceFormToRow(this.#i,this.#o)}#d=()=>{this.#o.replaceFormToRow(this.#i,this.#o),this.#a=U};#p=()=>{this.resetMethodCb(),this.#i.replaceRowToForm(this.#o,this.#i),this.#a=B};resetComponent=()=>{this.#a===B&&(this.#o.replaceFormToRow(this.#i,this.#o),this.#a=U)}}const F=(e,t)=>{const n=new Date(e);return new Date(t)-n},O=e=>new Date(e),j=(e,t)=>O(e.date_from)-O(t.date_from),q=["day","event","time","price","offers"],N={day:j,time:(e,t)=>F(t.date_from,t.date_to)-F(e.date_from,e.date_to),price:(e,t)=>t.base_price-e.base_price},X=q[0],Z=N[X];class J extends C{constructor(){super()}get template(){return`\n    <form class="trip-events__trip-sort  trip-sort" action="#" method="get">\n      ${Array.from(q,(e=>{return`\n      <div class="trip-sort__item  trip-sort__item--${t=e}">\n        <input id="sort-${t}"\n          class="trip-sort__input  visually-hidden"\n          type="radio"\n          name="trip-sort"\n          value="sort-${t}"\n          ${t in N?"":"disabled"}\n          ${t===X?"checked":""}\n          data-sort-type="${t}">\n        <label class="trip-sort__btn" for="sort-${t.toLowerCase()}">${n=t,n.charAt(0).toUpperCase()+n.slice(1)}</label>\n      </div>\n  `;var t,n})).join("")}\n    </form>\n  `}}class z{#m=null;#t=null;#h=null;constructor(e,t){this.#t=e,this.#h=t,this.#m=new J(this.#t)}init(){e(this.#m,this.#h,"afterbegin")}}class V extends C{#v="";#_="";#C="";constructor(e,t,n){super(),this.#v=e,this.#_=t,this.#C=n}get template(){return`\n    <section class="trip-main__trip-info  trip-info">\n      <div class="trip-info__main">\n        <h1 class="trip-info__title">${this.#v}</h1>\n\n        <p class="trip-info__dates">${this.#_}</p>\n      </div>\n\n      <p class="trip-info__cost">\n        Total: &euro;&nbsp;<span class="trip-info__cost-value">${this.#C}</span>\n      </p>\n    </section>\n  `}}class W{#y=null;#t=null;constructor(e){this.#t=e}init(){const t=document.querySelector(".trip-main"),n=(e=>{const t=new Array;return e.forEach((e=>t.push(S(e.destination).name))),t.length>3?`${[t[0]]} - ... - ${[t[t.length-1]]}`:t.join(" - ")})(this.#t),r=(e=>{const t=e.slice().sort(j),n=new Date(t[0].date_from),r=new Date(t.slice(-1)[0].date_to);return i=n.getUTCDate(),o=n.getUTCMonth()+1,s=r.getUTCDate(),o===(a=r.getUTCMonth()+1)?`${String(i).padStart(2,"0")} - ${String(s).padStart(2,"0")}\n            ${y[o]}`:`${String(i).padStart(2,"0")} ${y[o]} -\n          ${String(s).padStart(2,"0")} ${y[a]}`;var i,o,s,a})(this.#t),i=(e=>{let t=0;for(let n=0;n<e.length;n++)if(t+=e[n].base_price,e[n].offers&&e[n].offers.length)for(let r=0;r<e[n].offers.length;r++)t+=T(e[n].offers[r]).price;return t})(this.#t);this.#y=new V(n,r,i),e(this.#y,t,"afterbegin")}}let G="";const Y=document.querySelector(".trip-controls__filters"),K=document.querySelector(".trip-events"),Q=new class{routeContainer=null;#r=new $;#t=new k;#g=null;#b=new Map;constructor({routeContainer:e}){this.routeContainer=e}#w=e=>{"INPUT"===e.target.tagName&&e.target.dataset.sortType!==G&&(this.#t.sort(N[e.target.dataset.sortType]),this.#$(),G=e.target.dataset.sortType)};#A=()=>{this.#b.forEach((e=>e.resetComponent()))};#E=()=>{new z(this.#t,this.routeContainer).init(),this.#t=this.#t.sort(Z),document.querySelector(".trip-events__trip-sort").addEventListener("click",this.#w)};#S=e=>{const t=this.#t.find((t=>t.id===e.id));t.is_favorite=!t.is_favorite};#$(){!function(e){if(null!==e){if(!(e instanceof C))throw new Error("Can remove only components");e.element.remove(),e.removeElement()}}(this.#r),this.#r=new $,e(this.#r,this.routeContainer),this.#t.forEach((e=>this.#x(e))),document.addEventListener("keydown",this.#A)}#x(e){const t=new H(this.#r,e,this.#S,this.#A);t.init(e),this.#b.set(e.id,t)}#T(){new W(this.#t).init()}#L(){this.#g=new R,e(this.#g,this.routeContainer)}init(){e(this.#r,this.routeContainer),this.#t=[...this.#t.route],this.#t.length?(this.#E(),G=X,this.#$(),this.#T()):this.#L()}}({routeContainer:K});e(new class extends C{get template(){return`\n    <form class="trip-filters" action="#" method="get">\n      ${Array.from(g,(e=>{return`\n      <div class="trip-filters__filter">\n        <input id="filter-${(t=e).toLowerCase()}" class="trip-filters__filter-input  visually-hidden" type="radio" name="trip-filter" value="${t.toLowerCase()}">\n        <label class="trip-filters__filter-label" for="filter-${t.toLowerCase()}">${t}</label>\n      </div>\n  `;var t})).join("")}\n      <button class="visually-hidden" type="submit">Accept filter</button>\n    </form>\n  `}},Y),Q.init()})()})();
//# sourceMappingURL=bundle.593207050e2da4a2a157.js.map